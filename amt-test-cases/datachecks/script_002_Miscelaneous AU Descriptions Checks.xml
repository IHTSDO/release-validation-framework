<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="script_002_Miscelaneous AU Descriptions Checks" verbose="2">

	<test name="01 Slashes ARE surrounded by spaces in FSNs (when separating an alpha and digit) for MPUU FSNs">
		<parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
										where isActiveMemberOf_cr_refset(conceptId,929360071000036103)
										and typeId = 900000000000003001
										and term REGEXP '.+ [[:alpha:]]+/[[:digit:]]+ .+';"/>
		<parameter name="resultCount" value="0"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>
	
	<test name="02 Slashes are NOT surrounded by spaces in synonyms EVER for MPUU synonyms">
		<parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
										where isActiveMemberOf_cr_refset(conceptId,929360071000036103)
										and typeId =  900000000000013009
										and term REGEXP '.+ / .+';"/>
		<parameter name="resultCount" value="0"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

		<test name="03 Slashes don't have a space to the left in synonyms EVER for MPUU synonyms">
		<parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
										where isActiveMemberOf_cr_refset(conceptId,929360071000036103)
										and typeId =  900000000000013009
										and term REGEXP '.+ /.+' AND NOT term REGEXP '.+ / .+';"/>
		<parameter name="resultCount" value="0"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

	<test name="04 Slashes don't have a space to the right in synonyms EVER for MPUU synonyms">
		<parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
										where isActiveMemberOf_cr_refset(conceptId,929360071000036103)
										and typeId =  900000000000013009
										and term REGEXP '.+/ .+' AND NOT term REGEXP '.+ / .+';"/>
		<parameter name="resultCount" value="0"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="05 Initial character case insensitive AU terms are sentence case (excluding AMT)">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
                                        where casesignificanceid = 900000000000020002
                                        and conceptId in (select id from &lt;PROSPECTIVE&gt;.concept_active)
                                        and BINARY SUBSTRING(term,1,1) != BINARY upper(SUBSTRING(term,1,1))
										and moduleId in (161771000036108,32506021000036107);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="06 Case insensitive AU terms are sentence case (excluding AMT)">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
                                        where casesignificanceid = 900000000000448009
                                        and conceptId in (select id from &lt;PROSPECTIVE&gt;.concept_active)
                                        and BINARY SUBSTRING(term,1,1) != BINARY upper(SUBSTRING(term,1,1))
										and moduleId in (161771000036108,32506021000036107);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="07 Case insensitive AU terms don't contain upper case letters after first">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.description_active
                                        where caseSignificanceId = 900000000000448009
                                        and conceptId in (select id from &lt;PROSPECTIVE&gt;.concept_active)
                                        and BINARY SUBSTRING(term,2) != BINARY lower(SUBSTRING(term,2))
										and moduleId in (161771000036108,900062011000036108,32506021000036107);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="08 No Rogue _foo_ are present">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.descriptions_&lt;SNAPSHOT&gt; where term RLIKE '_foo_';"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="09 No Rogue _NEVER PUBLISHED_ are present">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.descriptions_&lt;SNAPSHOT&gt; where term RLIKE '_NEVER PUBLISHED_';"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

</suite>

