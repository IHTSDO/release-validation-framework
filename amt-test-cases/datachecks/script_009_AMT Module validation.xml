<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="script_009_AMT Module validation" verbose="2">

    <test name="01 All Australian concept (30561011000036101) are on AMT module (900062011000036108)">
        <parameter name="query" value="select id, get_cr_FSN(id) from &lt;PROSPECTIVE&gt;.concept_active
										where isKindOf_cr(id, 30561011000036101)
										and moduleId != 900062011000036108;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/> <!--Uses a function or proc that needs refactoring-->
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>
	
	
    <test name="02 All AMT metadata all on AMT module (900062011000036108)">
        <parameter name="query" value="select id, get_cr_FSN(id) from &lt;PROSPECTIVE&gt;.concept_active
									where isKindOf_cr(id, 900000000000441003)
									and id not in (select distinct id from rf2_ir_concepts_snapshot)
									and moduleId != 900062011000036108
									and id not in (161771000036108,32570231000036109,32570271000036106,32570871000036105);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/> <!--Uses a function or proc that needs refactoring-->
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>
	
    <test name="03 All AMT descriptions for AMT concepts on AMT module">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.descriptions_&lt;SNAPSHOT&gt;
										where moduleId != 900062011000036108
										and conceptId not in (select distinct id from rf2_ir_concepts_snapshot)
										and conceptId not in (161771000036108,32570231000036109,32570271000036106,32570871000036105);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="04 All AMT relationships for AMT concepts on AMT module">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.relationship_&lt;SNAPSHOT&gt;
										where moduleId != 900062011000036108
										and sourceId not in (select distinct id from rf2_ir_concepts_snapshot)
										and sourceId not in (161771000036108,32570231000036109,32570271000036106,32570871000036105);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="05 All AMT 7 box refset content are on AMT module">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.simplerefset_&lt;SNAPSHOT&gt;
										where moduleId != 900062011000036108
										and refsetId in (929360021000036102,929360031000036100,929360041000036105,929360051000036108,929360061000036106,929360071000036103,929360081000036101);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="06 All Non-automatable name reference set on AMT module">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.simplerefset_&lt;SNAPSHOT&gt;
										where moduleId != 900062011000036108
										and refsetId = 178001000036102;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="07 All AMT concrete domain content on AMT module">
        <parameter name="query" value="select * from rf2_cr_ccsrefset_snapshot
										where moduleId != 900062011000036108
										union
										select * from rf2_cr_ccirefset_snapshot
										where moduleId != 900062011000036108
										and refsetId != 900000000000456007;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="08 AMT substance map and OSR refset on AMT module">
        <parameter name="query" value="select * from rf2_cr_csrefset_snapshot
										where refsetid in (172071000036109,281000036105)
										and moduleId != 900062011000036108;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="09 All OII refset entries on AMT module">
        <parameter name="query" value="select * from rf2_cr_srefset_snapshot
						where refsetId = 172061000036101
						and moduleId != 900062011000036108;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

    <test name="10 ARTGID map  and Preferred component order reference set entries on AMT module">
        <parameter name="query" value="select * from rf2_cr_irefset_snapshot
										where refsetId in (172051000036104,11000168105)
										and moduleId != 900062011000036108;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

</suite>
