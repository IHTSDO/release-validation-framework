<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd" >

<suite name="script_010_AMT Multiple heirarchy validation" verbose="2">


	<test name="01 No AMT Australian concepts are descendents of more than 1 top level concept (Qualifier, Product, Substance)">
        <parameter name="query" value="select sourceId from rf2_cr_transitiveclosuretable
										where destinationId in (30506011000036107,30515011000036103,30344011000036106)
										group by sourceId
										having count(destinationId) > 1;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
		<classes>
			<class name="au.gov.nehta.test.ResultCountTest"/>
		</classes>
    </test>
	

	<test name="02 No AMT Qualifier concepts are descendents of more than 1 top level qualifier type">
        <parameter name="query" value="select sourceId, get_cr_ADRS_PT(sourceId) from rf2_cr_transitiveclosuretable
										where destinationId in (30446011000036105,30383011000036100,30428011000036107,700000011000036109)
										group by sourceId
										having count(destinationId) > 1;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

	<test name="03 Only 4 Top level qualifier types in AMT">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.concept_active where isChildOf_cr(id, 30515011000036103)
            and id not in (
                30383011000036100,
                30428011000036107,
                30446011000036105,
                700000011000036109
            );"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="0"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>

	<test name="04 4 Top level qualifier types in AMT, are the Container, Form, UoM, UoU">
        <parameter name="query" value="select * from &lt;PROSPECTIVE&gt;.concept_active
										where isChildOf_cr(id, 30515011000036103)
										and id not in (30446011000036105,30383011000036100,30428011000036107,700000011000036109);"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>
	
	<test name="05 No AMT Product concepts are descendents of both MP and MPP">
        <parameter name="query" value="select sourceId from rf2_cr_transitiveclosuretable
										where destinationId in (30497011000036103,30513011000036104)
										group by sourceId
										having count(destinationId) > 1;"/>
        <parameter name="description" value=""></parameter>
		<parameter name="resultCount" value="null"/>
        <parameter name="skip" value="true"/>
        <classes>
            <class name="au.gov.nehta.test.ResultCountTest"/>
        </classes>
    </test>
</suite>
